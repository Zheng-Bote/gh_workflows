name: "get next semver patch"

on:
  workflow_dispatch:
  workflow_call:

env:
  NEXT_VERSION_TYPE: Patch

jobs:
  bash-script:
    runs-on: ubuntu-latest

    steps:
      - name: check-out
        uses: actions/checkout@v4

      - name: Run my Action
        id: run-action
        uses: ./.github/actions/next_semver
        #uses: ./gh-a_page_list-tags@main
        with:
          Mayor: false
          Minor: false
          Patch: true
          GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}

      - name: Output
        run: |
          if [ $(env.VSEMVER) > 0 ]
          then
              echo "nÃ¤chste vsemver: ${{ env.VSEMVER }}"
              exit 0
          fi
      - name: Print Output
        id: output
        run: |
          echo "VSEMVER: ${{ env.VSEMVER }}" >> $GITHUB_STEP_SUMMARY
          echo "semver: ${{ env.semver }}" >> $GITHUB_STEP_SUMMARY
        env:
          VSEMVER: "${{ steps.run-action.outputs.vsemver }}"
          semver: "${{ steps.run-action.outputs.semver }}"
